{"ast":null,"code":"import _ from \"lodash\";\nimport { getPosts, getUserById } from \"../apis/jsonPlaceholder\";\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n  await dispatch(fetchPosts());\n  console.log(\"fetchPostsAndUsers\");\n  console.log(getState().postsReducer.allList.data);\n\n  _.chain(getState().postsReducer.allList.data).map(\"userId\").uniq().forEach(id => dispatch(fetchUser(id))).value();\n};\nexport const fetchPosts = () => async dispatch => {\n  const response = await getPosts();\n  dispatch({\n    type: \"GET_POSTS_SUCCESS\",\n    payload: response.data\n  });\n};\nexport const fetchUser = id => async dispatch => {\n  const response = await getUserById(id);\n  dispatch({\n    type: \"GET_USERS_BY_ID_SUCCESS\",\n    payload: response.data\n  });\n};","map":{"version":3,"sources":["/home/beatakula/workspace/react/my-blog-app/src/actions/index.js"],"names":["_","getPosts","getUserById","fetchPostsAndUsers","dispatch","getState","fetchPosts","console","log","postsReducer","allList","data","chain","map","uniq","forEach","id","fetchUser","value","response","type","payload"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,yBAAtC;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAClE,QAAMD,QAAQ,CAACE,UAAU,EAAX,CAAd;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,GAAGI,YAAX,CAAwBC,OAAxB,CAAgCC,IAA5C;;AAEAX,EAAAA,CAAC,CAACY,KAAF,CAAQP,QAAQ,GAAGI,YAAX,CAAwBC,OAAxB,CAAgCC,IAAxC,EACKE,GADL,CACS,QADT,EAEKC,IAFL,GAGKC,OAHL,CAGcC,EAAD,IAAQZ,QAAQ,CAACa,SAAS,CAACD,EAAD,CAAV,CAH7B,EAIKE,KAJL;AAKH,CAXM;AAaP,OAAO,MAAMZ,UAAU,GAAG,MAAM,MAAOF,QAAP,IAAoB;AAChD,QAAMe,QAAQ,GAAG,MAAMlB,QAAQ,EAA/B;AAEAG,EAAAA,QAAQ,CAAC;AAAEgB,IAAAA,IAAI,EAAE,mBAAR;AAA6BC,IAAAA,OAAO,EAAEF,QAAQ,CAACR;AAA/C,GAAD,CAAR;AACH,CAJM;AAMP,OAAO,MAAMM,SAAS,GAAID,EAAD,IAAQ,MAAOZ,QAAP,IAAoB;AACjD,QAAMe,QAAQ,GAAG,MAAMjB,WAAW,CAACc,EAAD,CAAlC;AAEAZ,EAAAA,QAAQ,CAAC;AAAEgB,IAAAA,IAAI,EAAE,yBAAR;AAAmCC,IAAAA,OAAO,EAAEF,QAAQ,CAACR;AAArD,GAAD,CAAR;AACH,CAJM","sourcesContent":["import _ from \"lodash\";\nimport { getPosts, getUserById } from \"../apis/jsonPlaceholder\";\n\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n    await dispatch(fetchPosts());\n\n    console.log(\"fetchPostsAndUsers\");\n    console.log(getState().postsReducer.allList.data);\n\n    _.chain(getState().postsReducer.allList.data)\n        .map(\"userId\")\n        .uniq()\n        .forEach((id) => dispatch(fetchUser(id)))\n        .value();\n};\n\nexport const fetchPosts = () => async (dispatch) => {\n    const response = await getPosts();\n\n    dispatch({ type: \"GET_POSTS_SUCCESS\", payload: response.data });\n};\n\nexport const fetchUser = (id) => async (dispatch) => {\n    const response = await getUserById(id);\n\n    dispatch({ type: \"GET_USERS_BY_ID_SUCCESS\", payload: response.data });\n};\n"]},"metadata":{},"sourceType":"module"}