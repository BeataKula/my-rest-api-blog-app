{"ast":null,"code":"import _ from \"lodash\";\nimport jsonPlaceholder, { getPosts } from \"../apis/jsonPlaceholder\";\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n  await dispatch(fetchPosts());\n\n  _.chain(getState().posts).map(\"userId\").uniq().forEach(id => dispatch(fetchUser(id))).value();\n};\nexport const fetchPosts = () => async dispatch => {\n  const response = await getPosts();\n  dispatch({\n    type: \"FETCH_POSTS\",\n    payload: response.data\n  });\n};\nexport const fetchUser = id => async dispatch => {\n  const response = await jsonPlaceholder.get(`/users/${id}`);\n  dispatch({\n    type: \"FETCH_USER\",\n    payload: response.data\n  });\n};","map":{"version":3,"sources":["/home/beatakula/workspace/react/my-blog-app/src/actions/index.js"],"names":["_","jsonPlaceholder","getPosts","fetchPostsAndUsers","dispatch","getState","fetchPosts","chain","posts","map","uniq","forEach","id","fetchUser","value","response","type","payload","data","get"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,eAAP,IAA0BC,QAA1B,QAA0C,yBAA1C;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAClE,QAAMD,QAAQ,CAACE,UAAU,EAAX,CAAd;;AAEAN,EAAAA,CAAC,CAACO,KAAF,CAAQF,QAAQ,GAAGG,KAAnB,EACKC,GADL,CACS,QADT,EAEKC,IAFL,GAGKC,OAHL,CAGcC,EAAD,IAAQR,QAAQ,CAACS,SAAS,CAACD,EAAD,CAAV,CAH7B,EAIKE,KAJL;AAKH,CARM;AAUP,OAAO,MAAMR,UAAU,GAAG,MAAM,MAAOF,QAAP,IAAoB;AAChD,QAAMW,QAAQ,GAAG,MAAMb,QAAQ,EAA/B;AAEAE,EAAAA,QAAQ,CAAC;AAAEY,IAAAA,IAAI,EAAE,aAAR;AAAuBC,IAAAA,OAAO,EAAEF,QAAQ,CAACG;AAAzC,GAAD,CAAR;AACH,CAJM;AAMP,OAAO,MAAML,SAAS,GAAID,EAAD,IAAQ,MAAOR,QAAP,IAAoB;AACjD,QAAMW,QAAQ,GAAG,MAAMd,eAAe,CAACkB,GAAhB,CAAqB,UAASP,EAAG,EAAjC,CAAvB;AAEAR,EAAAA,QAAQ,CAAC;AAAEY,IAAAA,IAAI,EAAE,YAAR;AAAsBC,IAAAA,OAAO,EAAEF,QAAQ,CAACG;AAAxC,GAAD,CAAR;AACH,CAJM","sourcesContent":["import _ from \"lodash\";\nimport jsonPlaceholder, { getPosts } from \"../apis/jsonPlaceholder\";\n\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n    await dispatch(fetchPosts());\n\n    _.chain(getState().posts)\n        .map(\"userId\")\n        .uniq()\n        .forEach((id) => dispatch(fetchUser(id)))\n        .value();\n};\n\nexport const fetchPosts = () => async (dispatch) => {\n    const response = await getPosts();\n\n    dispatch({ type: \"FETCH_POSTS\", payload: response.data });\n};\n\nexport const fetchUser = (id) => async (dispatch) => {\n    const response = await jsonPlaceholder.get(`/users/${id}`);\n\n    dispatch({ type: \"FETCH_USER\", payload: response.data });\n};\n"]},"metadata":{},"sourceType":"module"}