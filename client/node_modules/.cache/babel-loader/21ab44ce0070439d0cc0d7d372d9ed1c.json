{"ast":null,"code":"import { getPosts } from \"../apis/jsonPlaceholder\";\nimport { FETCH_POSTS } from \"./actionsTypes\";\nexport const fetchPosts = () => async dispatch => {\n  setTimeout(async function () {\n    console.log(\"fetchPosts\");\n\n    try {\n      let isError = true;\n      const response = await getPosts;\n\n      if (response.status === 200) {\n        isError = false;\n      }\n\n      const payload = {\n        posts: response.data,\n        status: response.status,\n        text: response.statusText,\n        error: isError\n      };\n      const action = {\n        type: FETCH_POSTS,\n        payload: payload\n      };\n      dispatch(action);\n    } catch (error) {\n      const payload = {\n        posts: [],\n        status: 404,\n        text: error.toJSON().message,\n        error: true\n      };\n      const action = {\n        type: FETCH_POSTS,\n        payload: payload\n      };\n      dispatch(action);\n    }\n  }, 2000);\n};","map":{"version":3,"sources":["/home/beatakula/workspace/react/my-blog-app/src/actions/index.tsx"],"names":["getPosts","FETCH_POSTS","fetchPosts","dispatch","setTimeout","console","log","isError","response","status","payload","posts","data","text","statusText","error","action","type","toJSON","message"],"mappings":"AAAA,SAASA,QAAT,QAAyB,yBAAzB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AAGA,OAAO,MAAMC,UAAe,GAAG,MAAM,MAAOC,QAAP,IAAkC;AACnEC,EAAAA,UAAU,CAAC,kBAAkB;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;AAEA,QAAI;AACA,UAAIC,OAAO,GAAG,IAAd;AACA,YAAMC,QAAQ,GAAG,MAAMR,QAAvB;;AAEA,UAAIQ,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBF,QAAAA,OAAO,GAAG,KAAV;AACH;;AAED,YAAMG,OAAO,GAAG;AACZC,QAAAA,KAAK,EAAEH,QAAQ,CAACI,IADJ;AAEZH,QAAAA,MAAM,EAAED,QAAQ,CAACC,MAFL;AAGZI,QAAAA,IAAI,EAAEL,QAAQ,CAACM,UAHH;AAIZC,QAAAA,KAAK,EAAER;AAJK,OAAhB;AAMA,YAAMS,MAAkB,GAAG;AACvBC,QAAAA,IAAI,EAAEhB,WADiB;AAEvBS,QAAAA,OAAO,EAAEA;AAFc,OAA3B;AAKAP,MAAAA,QAAQ,CAACa,MAAD,CAAR;AACH,KApBD,CAoBE,OAAOD,KAAP,EAAmB;AACjB,YAAML,OAAO,GAAG;AACZC,QAAAA,KAAK,EAAE,EADK;AAEZF,QAAAA,MAAM,EAAE,GAFI;AAGZI,QAAAA,IAAI,EAAEE,KAAK,CAACG,MAAN,GAAeC,OAHT;AAIZJ,QAAAA,KAAK,EAAE;AAJK,OAAhB;AAOA,YAAMC,MAAkB,GAAG;AACvBC,QAAAA,IAAI,EAAEhB,WADiB;AAEvBS,QAAAA,OAAO,EAAEA;AAFc,OAA3B;AAKAP,MAAAA,QAAQ,CAACa,MAAD,CAAR;AACH;AACJ,GAtCS,EAsCP,IAtCO,CAAV;AAuCH,CAxCM","sourcesContent":["import { getPosts } from \"../apis/jsonPlaceholder\";\nimport { FETCH_POSTS } from \"./actionsTypes\";\nimport { DispatchType, PostAction } from \"../AppTypes\";\n\nexport const fetchPosts: any = () => async (dispatch: DispatchType) => {\n    setTimeout(async function () {\n        console.log(\"fetchPosts\");\n\n        try {\n            let isError = true;\n            const response = await getPosts;\n\n            if (response.status === 200) {\n                isError = false;\n            }\n\n            const payload = {\n                posts: response.data,\n                status: response.status,\n                text: response.statusText,\n                error: isError,\n            };\n            const action: PostAction = {\n                type: FETCH_POSTS,\n                payload: payload,\n            };\n\n            dispatch(action);\n        } catch (error: any) {\n            const payload = {\n                posts: [],\n                status: 404,\n                text: error.toJSON().message,\n                error: true,\n            };\n\n            const action: PostAction = {\n                type: FETCH_POSTS,\n                payload: payload,\n            };\n\n            dispatch(action);\n        }\n    }, 2000);\n};\n"]},"metadata":{},"sourceType":"module"}