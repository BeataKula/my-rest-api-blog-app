{"ast":null,"code":"import _ from \"lodash\";\nimport { getPosts, getUserById } from \"../apis/jsonPlaceholder\";\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n  await dispatch(fetchPosts());\n  console.log(\"fetchPostsAndUsers\");\n  console.log(getState().postsReducer);\n\n  _.chain(getState().postsReducer).map(\"userId\").uniq().forEach(id => dispatch(fetchUser(id))).value();\n};\nexport const fetchPosts = () => async dispatch => {\n  const response = await getPosts();\n  dispatch({\n    type: \"GET_POSTS_SUCCESS\",\n    payload: response.data\n  });\n};\nexport const fetchUser = id => async dispatch => {\n  const response = await getUserById(id);\n  dispatch({\n    type: \"GET_USERS_BY_ID_SUCCESS\",\n    payload: response.data\n  });\n};","map":{"version":3,"sources":["/home/beatakula/workspace/react/my-blog-app/src/actions/index.js"],"names":["_","getPosts","getUserById","fetchPostsAndUsers","dispatch","getState","fetchPosts","console","log","postsReducer","chain","map","uniq","forEach","id","fetchUser","value","response","type","payload","data"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,yBAAtC;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAClE,QAAMD,QAAQ,CAACE,UAAU,EAAX,CAAd;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,GAAGI,YAAvB;;AAEAT,EAAAA,CAAC,CAACU,KAAF,CAAQL,QAAQ,GAAGI,YAAnB,EACKE,GADL,CACS,QADT,EAEKC,IAFL,GAGKC,OAHL,CAGcC,EAAD,IAAQV,QAAQ,CAACW,SAAS,CAACD,EAAD,CAAV,CAH7B,EAIKE,KAJL;AAKH,CAXM;AAaP,OAAO,MAAMV,UAAU,GAAG,MAAM,MAAOF,QAAP,IAAoB;AAChD,QAAMa,QAAQ,GAAG,MAAMhB,QAAQ,EAA/B;AAEAG,EAAAA,QAAQ,CAAC;AAAEc,IAAAA,IAAI,EAAE,mBAAR;AAA6BC,IAAAA,OAAO,EAAEF,QAAQ,CAACG;AAA/C,GAAD,CAAR;AACH,CAJM;AAMP,OAAO,MAAML,SAAS,GAAID,EAAD,IAAQ,MAAOV,QAAP,IAAoB;AACjD,QAAMa,QAAQ,GAAG,MAAMf,WAAW,CAACY,EAAD,CAAlC;AAEAV,EAAAA,QAAQ,CAAC;AAAEc,IAAAA,IAAI,EAAE,yBAAR;AAAmCC,IAAAA,OAAO,EAAEF,QAAQ,CAACG;AAArD,GAAD,CAAR;AACH,CAJM","sourcesContent":["import _ from \"lodash\";\nimport { getPosts, getUserById } from \"../apis/jsonPlaceholder\";\n\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n    await dispatch(fetchPosts());\n\n    console.log(\"fetchPostsAndUsers\");\n    console.log(getState().postsReducer);\n\n    _.chain(getState().postsReducer)\n        .map(\"userId\")\n        .uniq()\n        .forEach((id) => dispatch(fetchUser(id)))\n        .value();\n};\n\nexport const fetchPosts = () => async (dispatch) => {\n    const response = await getPosts();\n\n    dispatch({ type: \"GET_POSTS_SUCCESS\", payload: response.data });\n};\n\nexport const fetchUser = (id) => async (dispatch) => {\n    const response = await getUserById(id);\n\n    dispatch({ type: \"GET_USERS_BY_ID_SUCCESS\", payload: response.data });\n};\n"]},"metadata":{},"sourceType":"module"}