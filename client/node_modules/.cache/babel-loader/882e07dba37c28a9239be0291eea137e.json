{"ast":null,"code":"import { GET_POSTS_REQUEST, GET_POSTS_SUCCESS, GET_POSTS_FAIL } from \"./actionsTypes\";\nimport _ from \"lodash\";\nimport { getPosts, getUserById } from \"../apis/jsonPlaceholder\"; //TODO\n\nimport { categoryType, DispatchType, PostPayload } from \"../AppTypes\";\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n  await dispatch(fetchPosts());\n\n  _.chain(getState().postsReducer.allList.data).map(\"userId\").uniq().forEach(id => dispatch(fetchUser(id))).value();\n};\nexport const fetchPosts = () => async dispatch => {\n  dispatch({\n    type: GET_POSTS_REQUEST,\n    payload: {\n      posts: [],\n      status: 0,\n      text: \"\",\n      error: false,\n      headerMessageText: \"\",\n      messageText: \"\",\n      showMessage: false,\n      categoryMessage: \"info\"\n    }\n  });\n  const response = await getPosts();\n  dispatch({\n    type: \"GET_POSTS_SUCCESS\",\n    payload: response.data\n  });\n};\nexport const fetchUser = id => async dispatch => {\n  const response = await getUserById(id);\n  dispatch({\n    type: \"GET_USERS_BY_ID_SUCCESS\",\n    payload: response.data\n  });\n};","map":{"version":3,"sources":["/home/beatakula/workspace/react/my-blog-app/src/actions/index.js"],"names":["GET_POSTS_REQUEST","GET_POSTS_SUCCESS","GET_POSTS_FAIL","_","getPosts","getUserById","categoryType","DispatchType","PostPayload","fetchPostsAndUsers","dispatch","getState","fetchPosts","chain","postsReducer","allList","data","map","uniq","forEach","id","fetchUser","value","type","payload","posts","status","text","error","headerMessageText","messageText","showMessage","categoryMessage","response"],"mappings":"AAAA,SACIA,iBADJ,EAEIC,iBAFJ,EAGIC,cAHJ,QAIO,gBAJP;AAMA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,yBAAtC,C,CACA;;AACA,SAASC,YAAT,EAAuBC,YAAvB,EAAqCC,WAArC,QAAwD,aAAxD;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAClE,QAAMD,QAAQ,CAACE,UAAU,EAAX,CAAd;;AAEAT,EAAAA,CAAC,CAACU,KAAF,CAAQF,QAAQ,GAAGG,YAAX,CAAwBC,OAAxB,CAAgCC,IAAxC,EACKC,GADL,CACS,QADT,EAEKC,IAFL,GAGKC,OAHL,CAGcC,EAAD,IAAQV,QAAQ,CAACW,SAAS,CAACD,EAAD,CAAV,CAH7B,EAIKE,KAJL;AAKH,CARM;AAUP,OAAO,MAAMV,UAAU,GAAG,MAAM,MAAOF,QAAP,IAAoB;AAChDA,EAAAA,QAAQ,CAAC;AACLa,IAAAA,IAAI,EAAEvB,iBADD;AAELwB,IAAAA,OAAO,EAAE;AACLC,MAAAA,KAAK,EAAE,EADF;AAELC,MAAAA,MAAM,EAAE,CAFH;AAGLC,MAAAA,IAAI,EAAE,EAHD;AAILC,MAAAA,KAAK,EAAE,KAJF;AAKLC,MAAAA,iBAAiB,EAAE,EALd;AAMLC,MAAAA,WAAW,EAAE,EANR;AAOLC,MAAAA,WAAW,EAAE,KAPR;AAQLC,MAAAA,eAAe,EAAE;AARZ;AAFJ,GAAD,CAAR;AAcA,QAAMC,QAAQ,GAAG,MAAM7B,QAAQ,EAA/B;AAEAM,EAAAA,QAAQ,CAAC;AAAEa,IAAAA,IAAI,EAAE,mBAAR;AAA6BC,IAAAA,OAAO,EAAES,QAAQ,CAACjB;AAA/C,GAAD,CAAR;AACH,CAlBM;AAoBP,OAAO,MAAMK,SAAS,GAAID,EAAD,IAAQ,MAAOV,QAAP,IAAoB;AACjD,QAAMuB,QAAQ,GAAG,MAAM5B,WAAW,CAACe,EAAD,CAAlC;AAEAV,EAAAA,QAAQ,CAAC;AAAEa,IAAAA,IAAI,EAAE,yBAAR;AAAmCC,IAAAA,OAAO,EAAES,QAAQ,CAACjB;AAArD,GAAD,CAAR;AACH,CAJM","sourcesContent":["import {\n    GET_POSTS_REQUEST,\n    GET_POSTS_SUCCESS,\n    GET_POSTS_FAIL,\n} from \"./actionsTypes\";\n\nimport _ from \"lodash\";\nimport { getPosts, getUserById } from \"../apis/jsonPlaceholder\";\n//TODO\nimport { categoryType, DispatchType, PostPayload } from \"../AppTypes\";\n\nexport const fetchPostsAndUsers = () => async (dispatch, getState) => {\n    await dispatch(fetchPosts());\n\n    _.chain(getState().postsReducer.allList.data)\n        .map(\"userId\")\n        .uniq()\n        .forEach((id) => dispatch(fetchUser(id)))\n        .value();\n};\n\nexport const fetchPosts = () => async (dispatch) => {\n    dispatch({\n        type: GET_POSTS_REQUEST,\n        payload: {\n            posts: [],\n            status: 0,\n            text: \"\",\n            error: false,\n            headerMessageText: \"\",\n            messageText: \"\",\n            showMessage: false,\n            categoryMessage: \"info\",\n        },\n    });\n\n    const response = await getPosts();\n\n    dispatch({ type: \"GET_POSTS_SUCCESS\", payload: response.data });\n};\n\nexport const fetchUser = (id) => async (dispatch) => {\n    const response = await getUserById(id);\n\n    dispatch({ type: \"GET_USERS_BY_ID_SUCCESS\", payload: response.data });\n};\n"]},"metadata":{},"sourceType":"module"}